<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="com.kh.tour.travelMap.model.mapper.TravelMapMapper" >
	
	<resultMap type="TravelMap" id="travelMapListResultMap">
		<id property="contentId" column="CONTENTID" />
		<result property="contentTypeId" column="CONTENTTYPEID" />
		<result property="contentTypeName" column="CONTENTTYPENAME" />
		<result property="title" column="TITLE" />
		<result property="tel" column="TEL" />
		<result property="homePage" column="HOMEPAGE" />
		<result property="firstImage" column="FIRSTIMAGE" />
		<result property="addr1" column="ADDR1" />
		<result property="mapX" column="MAPX" />
		<result property="mapY" column="MAPY" />
		<result property="overview" column="OVERVIEW" />
		<result property="star" column="STAR" />
	</resultMap>

	<select id="selectTravelMapList"
		resultMap="travelMapListResultMap" parameterType="String">
		SELECT T.CONTENTID,
			 T.CONTENTTYPEID,
			 C.CONTENTTYPENAME,
			 T.TITLE,
			 T.TEL,
			 T.HOMEPAGE,
			 T.FIRSTIMAGE,
			 T.ADDR1,
			 T.MAPX,
			 T.MAPY,
			 T.OVERVIEW,
			 L.STAR
		FROM BASIC_TOUR_INFO T
		JOIN CONTENTTYPELIST C ON(T.CONTENTTYPEID = C.CONTENTTYPEID)
		full OUTER JOIN REVIEW_TOTAL L ON (T.CONTENTID = L.CONTENTID)
		
<!-- 		<if test="tourKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{tourKeyword} -->
<!-- 		</if> -->
<!-- 		<if test="restaurantKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{restaurantKeyword} -->
<!-- 		</if> -->
<!-- 		<if test="hotelKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{hotelKeyword} -->
<!-- 		</if> -->
<!-- 		<if test="leportsKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{leportsKeyword} -->
<!-- 		</if> -->
<!-- 		<if test="facilityKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{facilityKeyword} -->
<!-- 		</if> -->
<!-- 		<if test="recommendKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{recommendKeyword} -->
<!-- 		</if> -->
<!-- 		<if test="travelCourseKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{travelCourseKeyword} -->
<!-- 		</if> -->
<!-- 		<if test="myCourseKeyword != null"> -->
<!-- 			WHERE C.CONTENTTYPENAME = #{myCourseKeyword} -->
<!-- 		</if> -->
		
		<if test="contentTypeName != null">
		WHERE C.CONTENTTYPENAME = #{contentTypeName}
		</if>
	</select>

</mapper>